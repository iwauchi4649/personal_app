<%= form_with model: @post do |f| %>
  <%= f.label :caption %>
  <%= f.text_field :caption %>
  <%= f.fields_for :photos do |i| %>
    <%= i.file_field :image %>
  <% end %>
  <%= f.submit "投稿", class: "btn btn-primary" %>
<% end %>

<%# form_withはRails5.1から提供されているHTMLフォーム生成メソッド。
モデルオプションに、先ほどコントローラー定義した@postをモデルオブジェクトとして扱う。
こうすることで、URLとHTTPメソッドを自動推測。
今回@postは空なので、createアクションに飛ぶ。
（空じゃないときはupdateアクションに飛ぶ。） %>
<%# また、fiels_forを使うことで、子モデル（今回でいうとPhotoモデル）に変更を加えることができる。 %>